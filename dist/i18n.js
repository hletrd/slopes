const i18n=function(){const t=["en","ko"],n="ko",e="webcamLanguage";let o=n,a={},r=!1;async function i(t){try{const n=await fetch(`lang/${t}.json?v=${(new Date).getTime()}`);if(!n.ok)throw new Error(`Failed to load ${t} translations`);return await n.json()}catch(n){return console.error(`Error loading translations for ${t}:`,n),null}}function c(t,n={}){const e=t.split(".");let o=a;for(const n of e){if(!o||"object"!=typeof o||!(n in o))return console.warn(`Translation not found: ${t}`),t;o=o[n]}return"string"!=typeof o?(console.warn(`Translation is not a string: ${t}`),t):o.replace(/\{(\w+)\}/g,((t,e)=>void 0!==n[e]?n[e]:t))}function u(){document.querySelectorAll("[data-i18n]").forEach((t=>{const n=t.getAttribute("data-i18n"),e=c(n),o=n.match(/^\[(\w+)\](.+)$/);o?t.setAttribute(o[1],c(o[2])):t.hasAttribute("data-i18n-html")?t.innerHTML=e:t.textContent=e})),document.querySelectorAll("[data-i18n-placeholder]").forEach((t=>{const n=t.getAttribute("data-i18n-placeholder");t.placeholder=c(n)})),document.querySelectorAll("[data-i18n-title]").forEach((t=>{const n=t.getAttribute("data-i18n-title");t.title=c(n)})),window.location.hash||(document.title=c("site.fullTitle")),document.dispatchEvent(new CustomEvent("i18n:loaded",{detail:{language:o}}))}return{init:async function(){return o=function(){const n=localStorage.getItem(e);if(n&&t.includes(n))return n;const o=navigator.language||navigator.userLanguage;if(o&&"ko"===o.split("-")[0].toLowerCase())return"ko";return"en"}(),a=await i(o),a||(o=n,a=await i(n)),a&&(r=!0,u()),r},get:c,t:c,setLanguage:async function(n){if(!t.includes(n))return console.error(`Unsupported language: ${n}`),!1;if(n===o&&r)return!0;const c=await i(n);return!!c&&(a=c,o=n,localStorage.setItem(e,n),u(),!0)},getLanguage:function(){return o},getSupportedLanguages:function(){return[...t]},applyTranslations:u,getResortName:function(t,n){const e=`resorts.${t}.name`,o=c(e);return o===e?n:o},getWebcamName:function(t,n,e){const o=`resorts.${t}.webcams.${n}`,a=c(o);return a===o?e:a},getWeatherLocationName:function(t){const n=`weatherLocations.${t}`,e=c(n);return e===n?t:e}}}();"undefined"!=typeof module&&module.exports?module.exports=i18n:window.i18n=i18n;